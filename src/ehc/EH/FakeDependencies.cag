%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Fake AG dependencies to avoid INDUCED cycles
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Dependencies are declared for the first variant where both dependencees are available.

%%[1
SEM Expr
  | Parens      lhs			.	opts				<	lhs.gUniq
%%]

%%[(1 hmtyinfer)
SEM Decls
  | Cons        lhs         .   opts                <   lhs.gathTySigGam
%%]

%%[(2 hmtyinfer)
SEM AGItf
  | AGItf       expr        .   gUniq               <   loc.tyGam
%%]

%%[(6 hmtyinfer)
SEM AGItf
  | AGItf       expr        .   gUniq               <   loc.tyKiGam
                expr        .   gUniq               <   loc.kiGam

SEM Expr
  | Case        alts        .   kiVarMp             <   alts.patTyVarMp
%%]

%%[(6 hmtyinfer)
SEM DataConstr
  | Constr      lhs         .   dataTy              <   lhs.kiVarMp
%%]

%%[(7 hmtyinfer)
SEM CaseAlts
  | Cons        hd          .   gathDataGam         <   hd.kiVarMp

SEM DataFieldPatExpr
  | Ext         dataFieldPatExpr
                            .   tyGam               <   dataFieldPatExpr.kiVarMp

SEM Decl
  | Data        loc         .   dataAltTy           <   loc.dataTy
%%]

%%[(9 hmtyinfer)
SEM TyExprs
  | Cons        hd          .   tyVarWildL          <   hd.clGam
%%]

%%[(17 hmtyinfer)
SEM DataConstr
  | Constr      lhs         .   polGam              <   loc.dataAltTyL
                lhs         .   knPolCtx            <   loc.dataAltTyL
                lhs         .   polVarMp            <   loc.dataAltTyL

SEM TyExpr
  | Pred		lhs			.	knPolCtx			< 	prExpr.tyGam

SEM AGItf
  | AGItf       expr        .   gathPolGam          <   expr.valGam
  | AGItf       expr        .   gUniq               <   loc.polGam
                expr        .   polVarMp            <   expr.tyVarMp
                expr        .   polVarMp            <   loc.clGam
%%]


